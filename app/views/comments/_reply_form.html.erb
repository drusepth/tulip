<%= form_with model: [stay, Comment.new],
             class: "reply-form",
             data: { comment_reply_target: "formElement" } do |f| %>
  <%= f.hidden_field :parent_id, value: parent.id %>
  <div class="flex gap-2">
    <%= avatar_tag(current_user, size: 24, html_options: {
      class: "w-6 h-6 ring-1 ring-lavender-light flex-shrink-0"
    }) %>
    <div class="flex-1">
      <div class="text-xs text-lavender-dark mb-1">
        Replying to <span class="font-medium"><%= parent.user.name %></span>
      </div>
      <%= f.text_area :body,
                      placeholder: "Write a reply...",
                      rows: 2,
                      class: "w-full px-3 py-2 border border-taupe-light rounded-xl bg-white text-brown placeholder-brown-lighter focus:outline-none focus:border-lavender text-sm resize-none",
                      data: { comment_reply_target: "textarea" } %>
      <div class="mt-2 flex justify-end gap-2">
        <button type="button"
                class="text-sm text-brown-light hover:text-brown px-3 py-1 transition-colors"
                data-action="click->comment-reply#hideForm">
          Cancel
        </button>
        <%= f.submit "Reply", class: "btn-primary px-3 py-1 text-sm bg-lavender hover:bg-lavender-dark" %>
      </div>
    </div>
  </div>
<% end %>

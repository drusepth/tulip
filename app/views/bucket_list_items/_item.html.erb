<%= turbo_frame_tag dom_id(bucket_list_item) do %>
  <div class="bucket-list-item group flex items-start gap-3 py-3 px-4 rounded-2xl border border-transparent hover:border-taupe-light hover:bg-cream transition-all duration-200">
    <!-- Toggle checkbox -->
    <%= button_to toggle_stay_bucket_list_item_path(bucket_list_item.stay, bucket_list_item),
                  method: :patch,
                  class: "flex-shrink-0 mt-0.5 transform hover:scale-110 transition-transform",
                  data: { turbo_stream: true } do %>
      <% if bucket_list_item.completed? %>
        <div class="w-6 h-6 rounded-full bg-sage flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      <% else %>
        <div class="w-6 h-6 rounded-full border-2 border-taupe hover:border-sage hover:bg-sage-light transition-colors"></div>
      <% end %>
    <% end %>

    <!-- Content -->
    <div class="flex-1 min-w-0">
      <span class="<%= bucket_list_item.completed? ? 'line-through text-brown-light' : 'text-brown font-medium' %>">
        <%= bucket_list_item.title %>
      </span>
      <% if bucket_list_item.address.present? %>
        <p class="text-xs text-brown-light mt-1 flex items-center gap-1.5">
          <svg class="w-3.5 h-3.5 text-taupe" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
          <span class="truncate"><%= bucket_list_item.address %></span>
        </p>
      <% end %>
      <% if bucket_list_item.notes.present? %>
        <p class="text-xs text-taupe mt-1 italic"><%= bucket_list_item.notes %></p>
      <% end %>
    </div>

    <!-- Actions (always visible on mobile, hover on desktop) -->
    <div class="flex-shrink-0 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity flex items-center gap-0.5">
      <%= link_to edit_stay_bucket_list_item_path(bucket_list_item.stay, bucket_list_item),
                  class: "p-1.5 rounded-lg text-brown-light hover:text-sage-dark hover:bg-sage-light transition-colors",
                  data: { turbo_stream: true } do %>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
        </svg>
      <% end %>
      <%= button_to stay_bucket_list_item_path(bucket_list_item.stay, bucket_list_item),
                    method: :delete,
                    class: "p-1.5 rounded-lg text-brown-light hover:text-rose-dark hover:bg-rose-light transition-colors",
                    data: { turbo_confirm: "Remove this item?", turbo_stream: true } do %>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
        </svg>
      <% end %>
    </div>
  </div>
<% end %>
